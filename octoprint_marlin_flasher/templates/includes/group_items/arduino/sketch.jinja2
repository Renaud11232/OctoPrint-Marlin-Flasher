<div class="accordion-group">
    <div class="accordion-heading">
        <a class="accordion-toggle" data-toggle="collapse" data-parent="#marlin_flasher_arduino_accordion" href="#sketch">
            {{ _('Sketch') }}
        </a>
        (<span data-bind="text: uploadTime() ? uploadTime() : gettext('No firmware')"></span>)
    </div>
    <div id="sketch" class="accordion-body collapse in">
        <div class="accordion-inner">
            <p>
                {{ _("Here you can set whatever firmware you want to be running on your printer. Make sure it's a zip, or hex file containing a valid Arduino sketch for your board.") }}
            </p>
            <form class="form-horizontal" data-bind="visible: settingsViewModel.settings.plugins.marlin_flasher.retrieving_method() === 'upload'">
                <div class="control-group">
                    <label class="control-label" for="arduino_firmware_file">{{ _('Arduino sketch') }} :</label>
                    <div class="controls">
                        <span class="btn fileinput-button">
                            <span>{{ _('Browse') }}</span>
                            <input id="arduino_firmware_file" type="file" name="firmware_file" data-url="{{ url_for("plugin.marlin_flasher.upload_arduino_firmware") }}" accept=".zip, .hex">
                        </span>
                    </div>
                </div>
                <div class="progress">
                    <div class="bar" data-bind="style: {width: uploadProgress() + '%'},
                                                css: {'bar-success': uploadProgress() >= 100}"></div>
                </div>
            </form>
            <form class="form-horizontal" data-bind="visible: settingsViewModel.settings.plugins.marlin_flasher.retrieving_method() === 'url'">
                <div class="control-group row-fluid">
                    <div class="span9">
                        <input type="text" class="input-block-level" placeholder="Enter URL..." data-bind="value: arduinoFirmwareURL,
                                                                                                           disable: downloadingArduinoFirmware">
                    </div>
                    <button class="btn btn-primary span3" data-bind="click: downloadArduinoFirmware,
                                                                     disable: downloadingArduinoFirmware">Download</button>
                </div>
            </form>
        </div>
    </div>
</div>
